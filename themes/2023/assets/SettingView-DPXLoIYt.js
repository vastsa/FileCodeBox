import{b as w,E as z}from"./el-button-Bx4jKw8Q.js";import{E as S,a as h}from"./el-form-item-Dao0fXTi.js";import"./el-tag-C1r5eNtc.js";import{E as A,a as C}from"./el-select-Cn6ITchq.js";import"./el-popper-D5mMJcNX.js";/* empty css                 */import{d as E,a8 as D,t as c,e as V,w as o,af as b,o as _,C as e,g as s,Y as v,ac as B,ab as M,W as i,a1 as f,$ as m,Z as N,aF as y}from"./index-i8zpFmQM.js";import"./_baseClone-Bdq0UhPQ.js";const T={style:{display:"flex",height:"38px",width:"45%"}},F={style:{display:"flex",height:"38px","margin-left":"20px"}},I={style:{"margin-left":"0.4rem"}},K={style:{"margin-left":"0.4rem"}},O={style:{"margin-left":"0.4rem"}},q={key:0},L={style:{display:"flex",height:"38px"}},W={style:{"margin-right":"0.4rem"}},Y={style:{width:"200px","margin-left":"0.4rem"}},Z={style:{display:"flex",height:"38px"}},$={style:{width:"3rem","margin-right":"0.4rem"}},j={style:{width:"200px","margin-left":"0.4rem"}},G={style:{display:"flex",height:"38px"}},H={style:{"margin-right":"0.4rem"}},J={style:{width:"200px","margin-left":"0.4rem"}},P={style:{display:"flex",height:"38px"}},Q={style:{width:"3rem","margin-right":"0.4rem"}},R={style:{width:"200px","margin-left":"0.4rem"}},ie=E({__name:"SettingView",setup(X){const{t:n}=D(),l=c({name:"",description:"",file_storage:"",expireStyle:[],themesChoices:[],themesSelect:"",admin_token:"",robotsText:"",keywords:"",notify_title:"",notify_content:"",openUpload:1,uploadSize:1,uploadMinute:1,max_save_seconds:0,opacity:.9,s3_access_key_id:"",background:"",showAdminAddr:0,page_explain:"",s3_secret_access_key:"",aws_session_token:"",s3_signature_version:"",s3_region_name:"",s3_bucket_name:"",s3_endpoint_url:"",s3_hostname:"",uploadCount:1,errorMinute:1,errorCount:1});(()=>{b({url:"/admin/config/get",method:"get"}).then(p=>{l.value=p.detail})})();const x=()=>{b({url:"/admin/config/update",method:"patch",data:l.value}).then(p=>{p.code==200?y.success(n("admin.settings.saveSuccess")):y.error(p.message)})};return(p,t)=>{const u=w,d=h,r=A,g=C,U=z,k=S;return _(),V(k,null,{default:o(()=>[e(d,{size:"large",label:s(n)("admin.settings.name")},{default:o(()=>[e(u,{modelValue:l.value.name,"onUpdate:modelValue":t[0]||(t[0]=a=>l.value.name=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{size:"large",label:s(n)("admin.settings.description")},{default:o(()=>[e(u,{modelValue:l.value.description,"onUpdate:modelValue":t[1]||(t[1]=a=>l.value.description=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{size:"large",label:s(n)("admin.settings.keywords"),style:{"letter-spacing":"0.3rem"}},{default:o(()=>[e(u,{modelValue:l.value.keywords,"onUpdate:modelValue":t[2]||(t[2]=a=>l.value.keywords=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{size:"large",label:s(n)("admin.settings.themeSelect")},{default:o(()=>[e(g,{modelValue:l.value.themesSelect,"onUpdate:modelValue":t[3]||(t[3]=a=>l.value.themesSelect=a),multiple:"",style:{width:"100%"}},{default:o(()=>[(_(!0),v(M,null,B(l.value.themesChoices,a=>(_(),V(r,{label:a.name,value:a.key},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(d,{size:"large",label:s(n)("admin.settings.notify_title")},{default:o(()=>[e(u,{modelValue:l.value.notify_title,"onUpdate:modelValue":t[4]||(t[4]=a=>l.value.notify_title=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{size:"large",label:s(n)("admin.settings.notify_content")},{default:o(()=>[e(u,{modelValue:l.value.notify_content,"onUpdate:modelValue":t[5]||(t[5]=a=>l.value.notify_content=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{size:"large",label:s(n)("admin.settings.background")},{default:o(()=>[i("span",T,[e(u,{modelValue:l.value.background,"onUpdate:modelValue":t[6]||(t[6]=a=>l.value.background=a),placeholder:"url"},null,8,["modelValue"])]),i("span",F,[f(" Opacity: "),e(u,{type:"number",modelValue:l.value.opacity,"onUpdate:modelValue":t[7]||(t[7]=a=>l.value.opacity=a)},null,8,["modelValue"])])]),_:1},8,["label"]),e(d,{size:"large",label:s(n)("admin.settings.showAdminAddr")},{default:o(()=>[e(g,{modelValue:l.value.showAdminAddr,"onUpdate:modelValue":t[8]||(t[8]=a=>l.value.showAdminAddr=a),style:{width:"80%"}},{default:o(()=>[e(r,{label:s(n)("admin.settings.showAdmin.open"),value:1},null,8,["label"]),e(r,{label:s(n)("admin.settings.showAdmin.close"),value:0},null,8,["label"])]),_:1},8,["modelValue"]),i("small",I,m(s(n)("admin.settings.showAdmin.note")),1)]),_:1},8,["label"]),e(d,{size:"large",label:"robots.Text"},{default:o(()=>[e(u,{type:"textarea",modelValue:l.value.robotsText,"onUpdate:modelValue":t[9]||(t[9]=a=>l.value.robotsText=a),placeholder:"explain"},null,8,["modelValue"])]),_:1}),e(d,{size:"large",label:s(n)("admin.settings.explain")},{default:o(()=>[e(u,{type:"textarea",modelValue:l.value.page_explain,"onUpdate:modelValue":t[10]||(t[10]=a=>l.value.page_explain=a),placeholder:"explain"},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{size:"large",label:s(n)("admin.settings.admin_token")},{default:o(()=>[e(u,{type:"password",modelValue:l.value.admin_token,"onUpdate:modelValue":t[11]||(t[11]=a=>l.value.admin_token=a)},null,8,["modelValue"])]),_:1},8,["label"]),e(d,{size:"large",label:s(n)("admin.settings.uploadSize")},{append:o(()=>[]),default:o(()=>[e(u,{type:"number",modelValue:l.value.uploadSize,"onUpdate:modelValue":t[12]||(t[12]=a=>l.value.uploadSize=a)},null,8,["modelValue"]),i("small",null,"Bytesï¼š"+m(s(n)("admin.settings.uploadSizeNote")),1)]),_:1},8,["label"]),e(d,{size:"large",label:s(n)("admin.settings.max_save_seconds")},{default:o(()=>[e(u,{type:"number",modelValue:l.value.max_save_seconds,"onUpdate:modelValue":t[13]||(t[13]=a=>l.value.max_save_seconds=a)},null,8,["modelValue"]),i("small",null,"Seconds:"+m(s(n)("admin.settings.maxSaveSecondsNote")),1)]),_:1},8,["label"]),e(d,{size:"large",label:s(n)("admin.settings.expireStyle")},{default:o(()=>[e(g,{modelValue:l.value.expireStyle,"onUpdate:modelValue":t[14]||(t[14]=a=>l.value.expireStyle=a),multiple:"",style:{width:"100%"}},{default:o(()=>[e(r,{label:s(n)("send.expireData.day"),value:"day"},null,8,["label"]),e(r,{label:s(n)("send.expireData.hour"),value:"hour"},null,8,["label"]),e(r,{label:s(n)("send.expireData.minute"),value:"minute"},null,8,["label"]),e(r,{label:s(n)("send.expireData.forever"),value:"forever"},null,8,["label"]),e(r,{label:s(n)("send.expireData.count"),value:"count"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(d,{size:"large",label:s(n)("admin.settings.openUpload.title")},{default:o(()=>[e(g,{modelValue:l.value.openUpload,"onUpdate:modelValue":t[15]||(t[15]=a=>l.value.openUpload=a),style:{width:"80%"}},{default:o(()=>[e(r,{label:s(n)("admin.settings.openUpload.open"),value:1},null,8,["label"]),e(r,{label:s(n)("admin.settings.openUpload.close"),value:0},null,8,["label"])]),_:1},8,["modelValue"]),i("small",K,m(s(n)("admin.settings.openUpload.note")),1)]),_:1},8,["label"]),e(d,{size:"large",label:s(n)("admin.settings.file_storage.title")},{default:o(()=>[e(g,{modelValue:l.value.file_storage,"onUpdate:modelValue":t[16]||(t[16]=a=>l.value.file_storage=a),style:{width:"80%"}},{default:o(()=>[e(r,{label:s(n)("admin.settings.file_storage.local"),value:"local"},null,8,["label"]),e(r,{label:s(n)("admin.settings.file_storage.s3"),value:"s3"},null,8,["label"])]),_:1},8,["modelValue"]),i("small",O,m(s(n)("admin.settings.file_storage.note")),1)]),_:1},8,["label"]),l.value.file_storage==="s3"?(_(),v("div",q,[e(d,{size:"large",label:"S3 AccessKeyId"},{default:o(()=>[e(u,{modelValue:l.value.s3_access_key_id,"onUpdate:modelValue":t[17]||(t[17]=a=>l.value.s3_access_key_id=a)},null,8,["modelValue"])]),_:1}),e(d,{size:"large",label:"S3 SecretAccessKey"},{default:o(()=>[e(u,{modelValue:l.value.s3_secret_access_key,"onUpdate:modelValue":t[18]||(t[18]=a=>l.value.s3_secret_access_key=a)},null,8,["modelValue"])]),_:1}),e(d,{size:"large",label:"S3 BucketName"},{default:o(()=>[e(u,{modelValue:l.value.s3_bucket_name,"onUpdate:modelValue":t[19]||(t[19]=a=>l.value.s3_bucket_name=a)},null,8,["modelValue"])]),_:1}),e(d,{size:"large",label:"S3 EndpointUrl"},{default:o(()=>[e(u,{modelValue:l.value.s3_endpoint_url,"onUpdate:modelValue":t[20]||(t[20]=a=>l.value.s3_endpoint_url=a)},null,8,["modelValue"])]),_:1}),e(d,{size:"large",label:"S3 hostname"},{default:o(()=>[e(u,{modelValue:l.value.s3_hostname,"onUpdate:modelValue":t[21]||(t[21]=a=>l.value.s3_hostname=a)},null,8,["modelValue"])]),_:1}),e(d,{size:"large",label:"S3 region name"},{default:o(()=>[e(u,{modelValue:l.value.s3_region_name,"onUpdate:modelValue":t[22]||(t[22]=a=>l.value.s3_region_name=a)},null,8,["modelValue"])]),_:1}),e(d,{size:"large",label:"S3 Signature Version"},{default:o(()=>[e(u,{modelValue:l.value.s3_signature_version,"onUpdate:modelValue":t[23]||(t[23]=a=>l.value.s3_signature_version=a)},null,8,["modelValue"])]),_:1}),e(d,{size:"large",label:"Aws Session Token"},{default:o(()=>[e(u,{modelValue:l.value.aws_session_token,"onUpdate:modelValue":t[24]||(t[24]=a=>l.value.aws_session_token=a)},null,8,["modelValue"])]),_:1})])):N("",!0),e(d,{size:"large",label:s(n)("admin.settings.uploadlimit")},{default:o(()=>[i("span",L,[i("span",W,m(s(n)("admin.settings.mei")),1),e(u,{type:"number",modelValue:l.value.uploadMinute,"onUpdate:modelValue":t[25]||(t[25]=a=>l.value.uploadMinute=a)},null,8,["modelValue"]),i("span",Y,m(s(n)("admin.settings.minute")),1)]),i("span",Z,[i("span",$,m(s(n)("admin.settings.upload")),1),e(u,{type:"number",modelValue:l.value.uploadCount,"onUpdate:modelValue":t[26]||(t[26]=a=>l.value.uploadCount=a)},null,8,["modelValue"]),i("span",j,m(s(n)("admin.settings.files")),1)])]),_:1},8,["label"]),e(d,{size:"large",label:s(n)("admin.settings.errorlimit")},{default:o(()=>[i("span",G,[i("span",H,m(s(n)("admin.settings.mei")),1),e(u,{type:"number",modelValue:l.value.errorMinute,"onUpdate:modelValue":t[27]||(t[27]=a=>l.value.errorMinute=a)},null,8,["modelValue"]),i("span",J,m(s(n)("admin.settings.minute")),1)]),i("span",P,[i("span",Q,m(s(n)("admin.settings.allow")),1),e(u,{type:"number",modelValue:l.value.errorCount,"onUpdate:modelValue":t[28]||(t[28]=a=>l.value.errorCount=a)},null,8,["modelValue"]),i("span",R,m(s(n)("admin.settings.errors")),1)])]),_:1},8,["label"]),e(d,null,{default:o(()=>[e(U,{onClick:x,type:"primary",style:{margin:"auto"}},{default:o(()=>[f(m(s(n)("admin.settings.save")),1)]),_:1})]),_:1})]),_:1})}}});export{ie as default};
